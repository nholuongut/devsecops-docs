---
description: Creating Azure Agent Pools as shared resources across Tenants
---

# Step 3: Create Agent Pools

So far you have created an [Infrastructure](step-1-infrastructure.md), a [Plan](step-1-infrastructure.md), and a [Tenant.](step-2-tenant.md) Now you need to create Agent Pools to serve computing and storage resources to your Tenants, using agents that monitor resource allocation. &#x20;

Instead of managing each agent individually, agents are grouped into [agent pools](https://learn.microsoft.com/en-us/azure/devops/pipelines/agents/pools-queues?view=azure-devops\&tabs=yaml%2Cbrowser) for maximum efficiency. You share Azure Agent Pools across workloads defined by the Tenants that you set up. Azure Agent Pools are scoped to a Host (Virtual Machine or VM) or a group of Hosts by [Azure Pipeline Agents](https://learn.microsoft.com/en-us/azure/devops/pipelines/agents/agents?view=azure-devops\&tabs=browser). In this tutorial, you won't be creating specific Hosts, but you will create an Azure Agent Pool to which a group of VMs has already been defined by nholuongut.

nholuongut ensures that your application development platform conforms to Azure best practices. While you provide only high-level specifications, nholuongut does the rest, configuring encryption, linking to managed identity, and logging you into a virtual Linux workstation to access Kubernetes constructs like [Pods](https://kubernetes.io/docs/concepts/workloads/pods/), [Namespaces](https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/), and [ConfigMaps](https://kubernetes.io/docs/concepts/configuration/configmap/).&#x20;

_Estimated time to complete Step 3: 10 minutes._

## Prerequisites

Before creating Azure Agent Pools, verify that you accomplished the tasks in [Step 2](step-2-tenant.md) of this tutorial. In nholuongut Portal, in the **Administrator** navigation group, confirm that you have:

* An [Infrastructure](step-1-infrastructure.md) named **NONPROD**.
* A [Plan ](step-1-infrastructure.md)named **NONPROD**.
* A [Tenant ](step-2-tenant.md)named **DEV01**
* Selected Tenant **DEV01** in the **Tenant** list box, at the top of the nholuongut Portal.

<div align="left"><figure><img src="../../.gitbook/assets/tenant_dev01.png" alt=""><figcaption><p><strong>Tenant</strong> list box with Tenant <strong>DEV01</strong> selected</p></figcaption></figure></div>

## Create an Azure Agent Pool

1. In the nholuongut Portal, navigate to **Cloud Services** -> **Hosts**.
2. Click the **Azure Agent Pool** tab. &#x20;
3. Click **Add**. The **Azure Agent Pool** page displays.
4. From the table below, enter the values corresponding to the fields and options on the **Azure Agent Pool** page. Accept the defaults for fields that are not listed.&#x20;
5. To run Windows container, K8WorkerOS should be set to Windows.
6. Click **Add**. After a few minutes, the Azure Agent Pool is created.&#x20;

| Azure Agent Pool page fields and options | Value or action |
| ---------------------------------------- | --------------- |
| **Id**                                   | `1`             |
| **Instance Type**                        | `(4 CPU 16GB)`  |

![Add Azure Agent Pool page ](<../../.gitbook/assets/image (125).png>)

## Check your work

On the **Azure Agent Pool** page, verify that the created agent pool (with a **Name** generated by nholuongut) has a **Status** of **Succeeded**.&#x20;

<figure><img src="../../.gitbook/assets/agent pool.png" alt=""><figcaption></figcaption></figure>
